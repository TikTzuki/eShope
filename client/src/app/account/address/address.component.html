<div class="address-modify" [ngClass]="{'hidden':currentAddress==null}">
    <div class="col-md-8 col-12">
        <div class="form-group">
            <label>
                Street
            </label>
            <input class="form-control select-address" type="text" (change)="changeStreet($event)" [ngModel]="currentAddress?.street" name="street" id="street">
        </div>
        <div class="form-group">
            <label>
                City/Province
            </label>
            <select class="select-address form-control" name="address1" id="address1" (change)="changeCurrentAddress1($event)">
                <option *ngFor="let address1 of addressList; index as i" [value]="i">
                    {{address1.name}}
                </option>
            </select>
        </div>
        <div class="form-group">
            <label>
                District/Town
            </label>
            <select class="select-address form-control" name="address2" id="address2" (change)="changeCurrentAddress2($event)">
                <option *ngFor="let address2 of currentAddress?.level2s; index as i" [value]="i">
                    {{address2.name}}
                </option>
            </select>
        </div>
        <div class="form-group">
            <label>
                Sub-district/Village
            </label>
            <select class="select-address form-control" name="address3" id="address3" (change)="changeCurrentAddress3($event)">
                <option *ngFor="let address3 of currentAddress?.address2?.level3s; index as i" [value]="i">
                    {{address3.name}}
                </option>
            </select>
        </div>
        <div class="d-flex justify-content-center">
            <button class="btn btn-secondary btn-sm" style="margin-right: 2em;" (click)="createAddress()">
                Save as new
            </button>
            <button class="btn btn-secondary btn-sm" style="margin-right: 2em;" (click)="modifySelectedAddress()">
                Save
            </button>
            <button class="btn btn-secondary btn-sm" (click)="cancelAddress()">
                Cancel
            </button>
        </div>
    </div>
</div>
<div class="address-book" [ngClass]="{'hidden':currentAddress!=null}">
    <div class="table">
        <div class="table-header">
            <table>
                <tbody>
                    <tr>
                        <th rowspan="1" class="table-header-node first">
                            <div class="table-cell-wrapper">
                                Name
                            </div>
                        </th>
                        <th rowspan="1" class="table-header-node ">
                            <div class="table-cell-wrapper">
                                Address
                            </div>
                        </th>
                        <th rowspan="1" class="table-header-node ">
                            <div class="table-cell-wrapper">
                                Postcode
                            </div>
                        </th>
                        <th rowspan="1" class="table-header-node ">
                            <div class="table-cell-wrapper">
                                Phone Number
                            </div>
                        </th>
                        <th rowspan="1" class="table-header-node last">
                            <div class="table-cell-wrapper">
                                Action
                            </div>
                        </th>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="table-body">
            <table>
                <tbody>
                    <tr class="table-row" *ngFor="let item of address">
                        <td class="table-cell">
                            <div class="table-cell-wrapper">
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="table-cell-wrapper">
                                {{item.street + ', ' + item.address3 + ', ' + item.address2 + ', ' + item.address1}}
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="table-cell-wrapper">
                                {{item.address1 + ', ' + item.address2 + ', ' + item.address3}}
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="table-cell-wrapper">

                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="table-cell-wrapper">
                                <button class="btn btn-secondary btn-sm modify-address" (click)="changeAddress(item.id)">Update</button>
                                <button class="btn btn-danger btn-sm" (click)="open(content, item.id)">Delete</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <div class="modal-body">
        <h3> Delete address </h3>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('result')">Save</button>
    </div>
</ng-template>